<div id="container">
    <button (click)="logout()">Logout</button>
  </div>
<div>
<p>home works!</p>

<div class="container my-5">
  <h1 class="mb-3">Current Logged in user</h1>
  <table class="table" *ngIf="childrenDetail$ && childrenDetail$.length>0">
      <thead>
          <tr>
              <th>Id</th>
              <th>Name</th>
              <th>Surname</th>
              <th>Allergy</th>
              <th>EmergContact</th>
              <th>PickUp</th>
              <th>Destination</th>
              <th></th>
              <th></th>
          </tr>
      </thead>
      <tbody>
          <tr *ngFor="let child of childrenDetail$">
              <td>{{child.ID}}</td>
              <td>{{child.Name}}</td>
              <td>{{child.Surname}}</td>
              <td>{{child.Allergy}}</td>
              <td>{{child.EmergContact}}</td>
              <td>{{child.PickUp}}</td>
              <td>{{child.Destination}}</td>
              <td><a [routerLink]="['/children','edit',child.ID]">View</a></td>
              <td><a  (click)="deleteChild(child.ID)">Delete</a></td>
          </tr>
      </tbody>
  </table>
</div>
</div>
<button
  size="m"
  tuiButton
  tuiHint="Some text"
  tuiHintDirection="top"
  type="button"
  (click)="showDialog()"
>
  Add Child
</button>
<ng-template
  let-observer
  [tuiDialogOptions]="{label: 'Add A Child', size: 's'}"
  [(tuiDialog)]="open"
>
  <form #myForm ="ngForm" (ngSubmit)="[observer.complete(),onSubmitForNewChild()]">

      <div class="my-5 w-full">
        <label for="name">Name</label>
        <input type="name" id="name"
        class="p-2  rounded w-full border"
        placeholder="Name" [(ngModel)]="form.Name"
        name="name" #name="ngModel" required> 
    </div> 
    <div class="my-5 w-full">
        <label for="surname">Surname</label>
        <input type="surname" id="surname"
        class="p-2  rounded w-full border"
        placeholder="Surname " [(ngModel)]="form.Surname"
        name="surname" #surname="ngModel" required> 
    </div>
    <div class="my-5 w-full">
      <label for="allergy">Allergy</label>
      <input type="allergy" id="allergy"
      class="p-2  rounded w-full border"
      placeholder="e.g (Allergic to Grass) " [(ngModel)]="form.Allergy"
      name="allergy" #allergy="ngModel" required> 
    </div>
    <div class="my-5 w-full">
      <label for="emergency">Emergency Contact</label>
      <input type="emergency" id="emergency"
      class="p-2  rounded w-full border"
      placeholder="e.g (0825583303) " [(ngModel)]="form.EmergContact"
      name="emergency" #emergencyContact="ngModel" required> 
    </div> 
    <div class="my-5 w-full">
      <label for="pickUp">Pick Up</label>
      <input type="emergency" id="pickUp"
      class="p-2  rounded w-full border"
      placeholder="e.g (0825583303) " [(ngModel)]="form.PickUp"
      name="pickUp" #pickUp="ngModel" required> 
    </div> 
    <div class="my-5 w-full">
      <label for="destination">destination</label>
      <input type="destination" id="destination"
      class="p-2  rounded w-full border"
      placeholder="Destination " [(ngModel)]="form.Destination"
      name="destination" #destination="ngModel" required> 
    </div>
    <p>
      <button
        tuiButton
        [disabled]="myForm.form.invalid"
          type="submit"  class="p-2 w-full rounded-full bg-blue-400 text-white" style="background-color: #3D6CE4; font-weight: bolder;"
          >
            Add Child
    </button>
    </p>
  </form>
</ng-template>